$(function(){writeSocialBar();if(showresume){let $resume=("#resume");$resume.attr("style","");$resume.addClass("menuelem");$("#resumemenu").fadeIn(100);let $animation_elements=$(".on-view-triggger");let $window=$(window);function c(){let window_height=$window.height();let window_top_position=$window.scrollTop();let window_bottom_position=(window_top_position+window_height);$.each($animation_elements,function(){let $element=$(this);let element_height=$element.outerHeight();let element_top_position=$element.offset().top;let element_bottom_position=(element_top_position+element_height);if((element_bottom_position>=window_top_position)&&(element_top_position<=window_bottom_position)){if($element.attr("data-viewed")==="false"){$element.addClass("triggered");$element.attr("viewed","true")}}})}$window.on("scroll resize",c);$window.trigger("scroll")}var b=false;if(/Mobi/.test(navigator.userAgent)){b=true;console.log("Utilizando versión móvil")}else{console.log("Utilizando versión web")}let sections=$(".menuelem");let navigation_links=$("#nav-wrap a");sections.each(function(){new Waypoint({element:this,handler:function(d){let previousWaypoint=this.previous();let activeWaypoint=this;if(d==="up"){activeWaypoint=previousWaypoint}let active_link=$('#nav-wrap a[href="#'+activeWaypoint.element.id+'"]');navigation_links.parent().removeClass("current");active_link.parent().addClass("current")},offset:"35%",group:"menuelem"})});let $header=$("header");$header.css({height:$(window).height()});if(!b){$(window).on("resize",function(){$header.css("height",$(window).height());$("body").css("width",$(window).width())})}else{$header.css("height",$(window).height());$("body").css("width",$(window).width());console.log("Se desactivó el ajuste de pantalla automático")}setTimeout(function(){$("h1.responsive-headline").fitText(1,{minFontSize:"40px",maxFontSize:"90px"})},100);$(".smoothscroll").on("click",function(d){d.preventDefault();let target=this.hash,$target=$(target);$("html, body").stop().animate({scrollTop:$target.offset().top+5},800,"swing",function(){window.location.hash=target})});let $bgheaderc=$("#background-page-header-colored");let $bgheader=$("#background-page-header");$bgheaderc.css("background-color",wallpaper_db.color);$bgheaderc.fadeIn(200);console.log(String.format("Estableciendo el fondo de pantalla {0} - ID {1}",wallpaper_db.image,wallpaper_db.index));if(parallaxenabled&&!b){$bgheader.parallax({src:wallpaper_db.image,positionX:"center",positionY:"bottom",speed:0.175,afterRefresh:function(){$("#background-page-header-colored").fadeOut("slow")}});$(".parallax-mirror").attr("id","parallaxBg")}else{let back_img=new Image();back_img.onload=function(){$bgheader.css({background:wallpaper_db.color+" url("+wallpaper_db.image+") "+wallpaper_db.position+" no-repeat fixed","background-attachment":"fixed"});$bgheader.css("-webkit-background-size","cover");$bgheader.css("-moz-background-size","cover");$bgheader.css("-o-background-size","cover");$bgheader.css("background-size","cover");setTimeout(function(){$("#background-page-header-colored").fadeOut("slow")},timeoutFadeInWallpaperAferLoad)};back_img.src=wallpaper_db.image}try{let $_bgheader;if(parallaxenabled&&!b){$_bgheader="parallaxBg"}else{$_bgheader="background-page-header"}wallpaper_db_random_blur($_bgheader,blurprobability,blurlimits)}catch(a){}finally{}let $resizeHeader=function(){let $bgheader;if(parallaxenabled&&!b){$bgheader=$(".parallax-mirror")}else{$bgheader=$("#background-page-header")}$bgheader.css("width",$(window).innerWidth()*1.1+"px");$bgheader.css("height",$(window).innerHeight()*1.1+"px")};$(window).on("resize",$resizeHeader);$resizeHeader();navWrapTrigger();$(window).on("scroll",function(){navWrapTrigger()});$(".item-wrap a").magnificPopup({type:"inline",fixedContentPos:false,removalDelay:200,showCloseBtn:false,mainClass:"mfp-fade"});$(document).on("click",".popup-modal-dismiss",function(d){d.preventDefault();$.magnificPopup.close()});$("#resume .date").before('<span class="bullOnExperience"> &bull; </span>');check_if_msg_sent()});